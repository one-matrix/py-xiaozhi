import{_ as i,c as a,o as l,ae as t}from"./chunks/framework.BGWP4WZ_.js";const E=JSON.parse('{"title":"音乐播放工具 (Music Tools)","description":"","frontmatter":{},"headers":[],"relativePath":"mcp/music.md","filePath":"mcp/music.md"}'),n={name:"mcp/music.md"};function h(e,s,p,o,r,k){return l(),a("div",null,s[0]||(s[0]=[t(`<h1 id="音乐播放工具-music-tools" tabindex="-1">音乐播放工具 (Music Tools) <a class="header-anchor" href="#音乐播放工具-music-tools" aria-label="Permalink to &quot;音乐播放工具 (Music Tools)&quot;">​</a></h1><p>音乐播放工具是一个功能丰富的 MCP 音乐播放器，支持在线搜索播放、本地音乐管理、歌词显示等功能。</p><h3 id="常见使用场景" tabindex="-1">常见使用场景 <a class="header-anchor" href="#常见使用场景" aria-label="Permalink to &quot;常见使用场景&quot;">​</a></h3><p><strong>搜索播放在线音乐:</strong></p><ul><li>&quot;播放周杰伦的青花瓷&quot;</li><li>&quot;我想听邓紫棋的歌&quot;</li><li>&quot;放一首轻音乐&quot;</li><li>&quot;播放最新的流行歌曲&quot;</li></ul><p><strong>播放控制:</strong></p><ul><li>&quot;暂停音乐&quot;</li><li>&quot;继续播放&quot;</li><li>&quot;停止播放&quot;</li><li>&quot;音乐播放到一半了&quot;</li></ul><p><strong>本地音乐管理:</strong></p><ul><li>&quot;查看本地音乐&quot;</li><li>&quot;播放本地的那首歌&quot;</li><li>&quot;在本地音乐中搜索周杰伦&quot;</li></ul><p><strong>播放状态查询:</strong></p><ul><li>&quot;现在播放的是什么歌&quot;</li><li>&quot;播放进度怎么样&quot;</li><li>&quot;这首歌还有多长时间&quot;</li></ul><p><strong>歌词功能:</strong></p><ul><li>&quot;显示歌词&quot;</li><li>&quot;当前歌词是什么&quot;</li><li>&quot;有歌词吗&quot;</li></ul><p><strong>高级功能:</strong></p><ul><li>&quot;跳转到1分30秒&quot;</li><li>&quot;快进到高潮部分&quot;</li><li>&quot;回到开头&quot;</li></ul><h3 id="使用提示" tabindex="-1">使用提示 <a class="header-anchor" href="#使用提示" aria-label="Permalink to &quot;使用提示&quot;">​</a></h3><ol><li><strong>明确歌曲信息</strong>: 提供歌名、歌手名或专辑名有助于更准确的搜索</li><li><strong>网络连接</strong>: 在线搜索和播放需要稳定的网络连接</li><li><strong>本地缓存</strong>: 播放过的歌曲会自动缓存，下次播放更快</li><li><strong>音量控制</strong>: 可以要求调整音量或静音</li><li><strong>歌词同步</strong>: 支持实时歌词显示，增强听歌体验</li></ol><p>AI 助手会根据您的需求自动调用音乐播放工具，为您提供流畅的音乐体验。</p><h2 id="功能概览" tabindex="-1">功能概览 <a class="header-anchor" href="#功能概览" aria-label="Permalink to &quot;功能概览&quot;">​</a></h2><h3 id="在线音乐功能" tabindex="-1">在线音乐功能 <a class="header-anchor" href="#在线音乐功能" aria-label="Permalink to &quot;在线音乐功能&quot;">​</a></h3><ul><li><strong>智能搜索</strong>: 支持歌名、歌手、专辑等多种搜索方式</li><li><strong>高品质播放</strong>: 支持高品质音频流播放</li><li><strong>歌词显示</strong>: 实时同步歌词显示</li><li><strong>自动缓存</strong>: 播放过的歌曲自动缓存到本地</li></ul><h3 id="本地音乐管理" tabindex="-1">本地音乐管理 <a class="header-anchor" href="#本地音乐管理" aria-label="Permalink to &quot;本地音乐管理&quot;">​</a></h3><ul><li><strong>本地扫描</strong>: 自动扫描本地音乐文件</li><li><strong>元数据提取</strong>: 自动提取歌曲标题、艺术家、专辑等信息</li><li><strong>格式支持</strong>: 支持MP3、M4A、FLAC、WAV、OGG等多种格式</li><li><strong>智能搜索</strong>: 在本地音乐中快速搜索</li></ul><h3 id="播放控制功能" tabindex="-1">播放控制功能 <a class="header-anchor" href="#播放控制功能" aria-label="Permalink to &quot;播放控制功能&quot;">​</a></h3><ul><li><strong>基础控制</strong>: 播放、暂停、停止</li><li><strong>进度控制</strong>: 跳转到指定时间位置</li><li><strong>状态查询</strong>: 获取播放状态、进度等信息</li><li><strong>错误处理</strong>: 完善的错误处理和恢复机制</li></ul><h3 id="用户体验功能" tabindex="-1">用户体验功能 <a class="header-anchor" href="#用户体验功能" aria-label="Permalink to &quot;用户体验功能&quot;">​</a></h3><ul><li><strong>UI集成</strong>: 与应用界面无缝集成</li><li><strong>实时反馈</strong>: 实时显示播放状态和歌词</li><li><strong>智能缓存</strong>: 优化存储空间使用</li><li><strong>后台播放</strong>: 支持后台持续播放</li></ul><h2 id="工具列表" tabindex="-1">工具列表 <a class="header-anchor" href="#工具列表" aria-label="Permalink to &quot;工具列表&quot;">​</a></h2><h3 id="_1-在线音乐工具" tabindex="-1">1. 在线音乐工具 <a class="header-anchor" href="#_1-在线音乐工具" aria-label="Permalink to &quot;1. 在线音乐工具&quot;">​</a></h3><h4 id="search-and-play-搜索并播放" tabindex="-1">search_and_play - 搜索并播放 <a class="header-anchor" href="#search-and-play-搜索并播放" aria-label="Permalink to &quot;search_and_play - 搜索并播放&quot;">​</a></h4><p>搜索在线音乐并开始播放。</p><p><strong>参数:</strong></p><ul><li><code>song_name</code> (必需): 要搜索的歌曲名称、歌手或关键词</li></ul><p><strong>使用场景:</strong></p><ul><li>播放指定歌曲</li><li>搜索歌手的歌曲</li><li>播放流行音乐</li></ul><h3 id="_2-本地音乐工具" tabindex="-1">2. 本地音乐工具 <a class="header-anchor" href="#_2-本地音乐工具" aria-label="Permalink to &quot;2. 本地音乐工具&quot;">​</a></h3><h4 id="get-local-playlist-获取本地音乐列表" tabindex="-1">get_local_playlist - 获取本地音乐列表 <a class="header-anchor" href="#get-local-playlist-获取本地音乐列表" aria-label="Permalink to &quot;get_local_playlist - 获取本地音乐列表&quot;">​</a></h4><p>获取本地缓存的音乐文件列表。</p><p><strong>参数:</strong></p><ul><li><code>force_refresh</code> (可选): 是否强制刷新，默认false</li></ul><p><strong>使用场景:</strong></p><ul><li>查看本地音乐</li><li>管理音乐库</li><li>选择播放列表</li></ul><h4 id="search-local-music-搜索本地音乐" tabindex="-1">search_local_music - 搜索本地音乐 <a class="header-anchor" href="#search-local-music-搜索本地音乐" aria-label="Permalink to &quot;search_local_music - 搜索本地音乐&quot;">​</a></h4><p>在本地音乐中搜索指定歌曲。</p><p><strong>参数:</strong></p><ul><li><code>query</code> (必需): 搜索关键词</li></ul><p><strong>使用场景:</strong></p><ul><li>查找本地歌曲</li><li>艺术家搜索</li><li>专辑搜索</li></ul><h4 id="play-local-song-by-id-播放本地歌曲" tabindex="-1">play_local_song_by_id - 播放本地歌曲 <a class="header-anchor" href="#play-local-song-by-id-播放本地歌曲" aria-label="Permalink to &quot;play_local_song_by_id - 播放本地歌曲&quot;">​</a></h4><p>根据歌曲ID播放本地音乐。</p><p><strong>参数:</strong></p><ul><li><code>file_id</code> (必需): 本地音乐文件ID</li></ul><p><strong>使用场景:</strong></p><ul><li>播放指定本地歌曲</li><li>从播放列表选择</li><li>快速播放缓存音乐</li></ul><h3 id="_3-播放控制工具" tabindex="-1">3. 播放控制工具 <a class="header-anchor" href="#_3-播放控制工具" aria-label="Permalink to &quot;3. 播放控制工具&quot;">​</a></h3><h4 id="play-pause-播放-暂停切换" tabindex="-1">play_pause - 播放/暂停切换 <a class="header-anchor" href="#play-pause-播放-暂停切换" aria-label="Permalink to &quot;play_pause - 播放/暂停切换&quot;">​</a></h4><p>切换播放和暂停状态。</p><p><strong>参数:</strong> 无</p><p><strong>使用场景:</strong></p><ul><li>暂停当前播放</li><li>恢复播放</li><li>播放控制</li></ul><h4 id="stop-停止播放" tabindex="-1">stop - 停止播放 <a class="header-anchor" href="#stop-停止播放" aria-label="Permalink to &quot;stop - 停止播放&quot;">​</a></h4><p>停止当前播放。</p><p><strong>参数:</strong> 无</p><p><strong>使用场景:</strong></p><ul><li>完全停止播放</li><li>结束音乐会话</li><li>清除播放状态</li></ul><h4 id="seek-跳转到指定位置" tabindex="-1">seek - 跳转到指定位置 <a class="header-anchor" href="#seek-跳转到指定位置" aria-label="Permalink to &quot;seek - 跳转到指定位置&quot;">​</a></h4><p>跳转到歌曲的指定时间位置。</p><p><strong>参数:</strong></p><ul><li><code>position</code> (必需): 跳转位置（秒）</li></ul><p><strong>使用场景:</strong></p><ul><li>快进到高潮部分</li><li>重复播放某段</li><li>跳过不喜欢的部分</li></ul><h3 id="_4-信息查询工具" tabindex="-1">4. 信息查询工具 <a class="header-anchor" href="#_4-信息查询工具" aria-label="Permalink to &quot;4. 信息查询工具&quot;">​</a></h3><h4 id="get-status-获取播放状态" tabindex="-1">get_status - 获取播放状态 <a class="header-anchor" href="#get-status-获取播放状态" aria-label="Permalink to &quot;get_status - 获取播放状态&quot;">​</a></h4><p>获取当前播放器的详细状态信息。</p><p><strong>参数:</strong> 无</p><p><strong>使用场景:</strong></p><ul><li>查看播放进度</li><li>检查播放状态</li><li>获取歌曲信息</li></ul><h4 id="get-lyrics-获取歌词" tabindex="-1">get_lyrics - 获取歌词 <a class="header-anchor" href="#get-lyrics-获取歌词" aria-label="Permalink to &quot;get_lyrics - 获取歌词&quot;">​</a></h4><p>获取当前播放歌曲的歌词。</p><p><strong>参数:</strong> 无</p><p><strong>使用场景:</strong></p><ul><li>显示歌词</li><li>跟唱歌曲</li><li>学习歌词</li></ul><h2 id="使用示例" tabindex="-1">使用示例 <a class="header-anchor" href="#使用示例" aria-label="Permalink to &quot;使用示例&quot;">​</a></h2><h3 id="在线音乐播放示例" tabindex="-1">在线音乐播放示例 <a class="header-anchor" href="#在线音乐播放示例" aria-label="Permalink to &quot;在线音乐播放示例&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 搜索并播放歌曲</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;search_and_play&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;song_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;周杰伦 青花瓷&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 播放/暂停控制</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;play_pause&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 停止播放</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stop&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 跳转到指定位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;seek&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;position&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90.5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="本地音乐管理示例" tabindex="-1">本地音乐管理示例 <a class="header-anchor" href="#本地音乐管理示例" aria-label="Permalink to &quot;本地音乐管理示例&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取本地音乐列表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get_local_playlist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;force_refresh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 搜索本地音乐</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;search_local_music&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;query&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;周杰伦&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 播放本地歌曲</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;play_local_song_by_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;file_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;song_123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="状态查询示例" tabindex="-1">状态查询示例 <a class="header-anchor" href="#状态查询示例" aria-label="Permalink to &quot;状态查询示例&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取播放状态</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get_status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取歌词</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get_lyrics&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {})</span></span></code></pre></div><h2 id="技术架构" tabindex="-1">技术架构 <a class="header-anchor" href="#技术架构" aria-label="Permalink to &quot;技术架构&quot;">​</a></h2><h3 id="音乐播放器核心" tabindex="-1">音乐播放器核心 <a class="header-anchor" href="#音乐播放器核心" aria-label="Permalink to &quot;音乐播放器核心&quot;">​</a></h3><ul><li><strong>单例模式</strong>: 全局唯一的播放器实例</li><li><strong>异步设计</strong>: 支持异步操作，不阻塞主线程</li><li><strong>状态管理</strong>: 完善的播放状态管理</li><li><strong>错误处理</strong>: 健壮的错误处理机制</li></ul><h3 id="音频处理" tabindex="-1">音频处理 <a class="header-anchor" href="#音频处理" aria-label="Permalink to &quot;音频处理&quot;">​</a></h3><ul><li><strong>Pygame集成</strong>: 使用Pygame Mixer进行音频播放</li><li><strong>格式支持</strong>: 支持多种音频格式</li><li><strong>缓存机制</strong>: 智能缓存策略，减少重复下载</li><li><strong>音质优化</strong>: 高品质音频播放</li></ul><h3 id="在线服务集成" tabindex="-1">在线服务集成 <a class="header-anchor" href="#在线服务集成" aria-label="Permalink to &quot;在线服务集成&quot;">​</a></h3><ul><li><strong>API接口</strong>: 集成在线音乐搜索API</li><li><strong>下载管理</strong>: 异步下载和缓存管理</li><li><strong>歌词服务</strong>: 实时歌词获取和显示</li><li><strong>网络优化</strong>: 网络请求优化和重试机制</li></ul><h3 id="本地音乐管理-1" tabindex="-1">本地音乐管理 <a class="header-anchor" href="#本地音乐管理-1" aria-label="Permalink to &quot;本地音乐管理&quot;">​</a></h3><ul><li><strong>文件扫描</strong>: 自动扫描本地音乐文件</li><li><strong>元数据提取</strong>: 使用Mutagen库提取音乐元数据</li><li><strong>索引建立</strong>: 建立音乐文件索引，提高搜索效率</li><li><strong>格式识别</strong>: 智能识别音乐文件格式</li></ul><h2 id="数据结构" tabindex="-1">数据结构 <a class="header-anchor" href="#数据结构" aria-label="Permalink to &quot;数据结构&quot;">​</a></h2><h3 id="播放状态信息" tabindex="-1">播放状态信息 <a class="header-anchor" href="#播放状态信息" aria-label="Permalink to &quot;播放状态信息&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;current_song&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;青花瓷 - 周杰伦&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;is_playing&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: true,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;paused&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: false,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">237.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;position&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">89.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;progress&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">37.6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;has_lyrics&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="音乐元数据" tabindex="-1">音乐元数据 <a class="header-anchor" href="#音乐元数据" aria-label="Permalink to &quot;音乐元数据&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;file_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;song_123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;青花瓷&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;artist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;周杰伦&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;album&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;我很忙&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;03:57&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;file_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5242880</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;format&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mp3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="歌词数据" tabindex="-1">歌词数据 <a class="header-anchor" href="#歌词数据" aria-label="Permalink to &quot;歌词数据&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;lyrics&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;[00:12] 素胚勾勒出青花笔锋浓转淡&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;[00:18] 瓶身描绘的牡丹一如你初妆&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;[00:24] 冉冉檀香透过窗心事我了然&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="配置说明" tabindex="-1">配置说明 <a class="header-anchor" href="#配置说明" aria-label="Permalink to &quot;配置说明&quot;">​</a></h2><h3 id="音频配置" tabindex="-1">音频配置 <a class="header-anchor" href="#音频配置" aria-label="Permalink to &quot;音频配置&quot;">​</a></h3><p>音频播放相关配置：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AudioConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;OUTPUT_SAMPLE_RATE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">44100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;CHANNELS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;BUFFER_SIZE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="缓存配置" tabindex="-1">缓存配置 <a class="header-anchor" href="#缓存配置" aria-label="Permalink to &quot;缓存配置&quot;">​</a></h3><p>缓存目录配置：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cache_dir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Path(project_root) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cache&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;music&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">temp_cache_dir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cache_dir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;temp&quot;</span></span></code></pre></div><h3 id="api配置" tabindex="-1">API配置 <a class="header-anchor" href="#api配置" aria-label="Permalink to &quot;API配置&quot;">​</a></h3><p>在线音乐服务配置：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;SEARCH_URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://search.kuwo.cn/r.s&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;PLAY_URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://api.xiaodaokg.com/kuwo.php&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;LYRIC_URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://m.kuwo.cn/newh5/singles/songinfoandlrc&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="支持的音频格式" tabindex="-1">支持的音频格式 <a class="header-anchor" href="#支持的音频格式" aria-label="Permalink to &quot;支持的音频格式&quot;">​</a></h2><h3 id="播放格式" tabindex="-1">播放格式 <a class="header-anchor" href="#播放格式" aria-label="Permalink to &quot;播放格式&quot;">​</a></h3><ul><li><strong>MP3</strong>: 最常见的音频格式</li><li><strong>M4A</strong>: Apple音频格式</li><li><strong>FLAC</strong>: 无损音频格式</li><li><strong>WAV</strong>: 未压缩音频格式</li><li><strong>OGG</strong>: 开源音频格式</li></ul><h3 id="元数据支持" tabindex="-1">元数据支持 <a class="header-anchor" href="#元数据支持" aria-label="Permalink to &quot;元数据支持&quot;">​</a></h3><ul><li><strong>ID3 v1/v2</strong>: MP3元数据标准</li><li><strong>MP4</strong>: M4A文件元数据</li><li><strong>Vorbis</strong>: OGG文件元数据</li><li><strong>FLAC</strong>: FLAC文件元数据</li></ul><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h2><h3 id="_1-搜索优化" tabindex="-1">1. 搜索优化 <a class="header-anchor" href="#_1-搜索优化" aria-label="Permalink to &quot;1. 搜索优化&quot;">​</a></h3><ul><li>使用具体的歌名和歌手名</li><li>避免使用过于模糊的关键词</li><li>可以包含专辑名增加准确性</li></ul><h3 id="_2-缓存管理" tabindex="-1">2. 缓存管理 <a class="header-anchor" href="#_2-缓存管理" aria-label="Permalink to &quot;2. 缓存管理&quot;">​</a></h3><ul><li>定期清理不需要的缓存文件</li><li>监控缓存目录大小</li><li>使用强制刷新获取最新音乐列表</li></ul><h3 id="_3-网络优化" tabindex="-1">3. 网络优化 <a class="header-anchor" href="#_3-网络优化" aria-label="Permalink to &quot;3. 网络优化&quot;">​</a></h3><ul><li>确保网络连接稳定</li><li>在网络不佳时优先使用本地音乐</li><li>设置合适的超时时间</li></ul><h3 id="_4-用户体验" tabindex="-1">4. 用户体验 <a class="header-anchor" href="#_4-用户体验" aria-label="Permalink to &quot;4. 用户体验&quot;">​</a></h3><ul><li>提供清晰的播放状态反馈</li><li>支持快速响应的控制操作</li><li>优雅处理播放错误</li></ul><h2 id="故障排除" tabindex="-1">故障排除 <a class="header-anchor" href="#故障排除" aria-label="Permalink to &quot;故障排除&quot;">​</a></h2><h3 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h3><ol><li><strong>无法搜索歌曲</strong>: 检查网络连接和API可用性</li><li><strong>播放失败</strong>: 检查音频设备和文件格式</li><li><strong>歌词不显示</strong>: 检查歌词服务和歌曲ID</li><li><strong>本地音乐不显示</strong>: 检查文件权限和格式支持</li></ol><h3 id="调试方法" tabindex="-1">调试方法 <a class="header-anchor" href="#调试方法" aria-label="Permalink to &quot;调试方法&quot;">​</a></h3><ol><li>查看日志输出获取详细错误信息</li><li>测试网络连接和API响应</li><li>验证音频文件完整性</li><li>检查缓存目录权限</li></ol><h3 id="性能优化" tabindex="-1">性能优化 <a class="header-anchor" href="#性能优化" aria-label="Permalink to &quot;性能优化&quot;">​</a></h3><ol><li>合理设置缓存策略</li><li>优化网络请求频率</li><li>使用异步操作避免阻塞</li><li>定期清理临时文件</li></ol><p>通过音乐播放工具，您可以享受丰富的音乐体验，包括在线搜索、本地播放、歌词显示等功能。</p>`,137)]))}const g=i(n,[["render",h]]);export{E as __pageData,g as default};
