import{_ as i,c as a,o as t,ae as n}from"./chunks/framework.BGWP4WZ_.js";const d=JSON.parse('{"title":"12306查询工具 (Railway Tools)","description":"","frontmatter":{},"headers":[],"relativePath":"mcp/railway.md","filePath":"mcp/railway.md"}'),l={name:"mcp/railway.md"};function h(e,s,p,k,r,o){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="_12306查询工具-railway-tools" tabindex="-1">12306查询工具 (Railway Tools) <a class="header-anchor" href="#_12306查询工具-railway-tools" aria-label="Permalink to &quot;12306查询工具 (Railway Tools)&quot;">​</a></h1><p>火车票查询工具是一个基于12306系统的 MCP 工具集，提供了火车票查询、车站信息查询、中转方案查询等功能。工具提供了两层接口：<strong>智能工具</strong>（用户友好的自然语言接口）和<strong>原子工具</strong>（技术开发接口）。</p><h2 id="智能工具-推荐使用" tabindex="-1">智能工具（推荐使用） <a class="header-anchor" href="#智能工具-推荐使用" aria-label="Permalink to &quot;智能工具（推荐使用）&quot;">​</a></h2><p>智能工具能够理解自然语言输入，自动处理复杂的查询逻辑，是日常使用的首选方式。</p><h3 id="常见使用场景" tabindex="-1">常见使用场景 <a class="header-anchor" href="#常见使用场景" aria-label="Permalink to &quot;常见使用场景&quot;">​</a></h3><p><strong>智能火车票查询:</strong></p><ul><li>&quot;查询明天从北京到上海的火车票&quot;</li><li>&quot;我想看看后天广州到深圳的高铁&quot;</li><li>&quot;帮我查一下这周六从杭州到南京的车票&quot;</li><li>&quot;查询2025年1月15日北京南到天津的动车&quot;</li><li>&quot;上午出发到上海的高铁有哪些&quot;</li></ul><p><strong>智能车站查询:</strong></p><ul><li>&quot;北京有哪些火车站&quot;</li><li>&quot;上海的主要火车站是哪个&quot;</li><li>&quot;查询北京南站的车站编码&quot;</li><li>&quot;虹桥站的详细信息&quot;</li></ul><p><strong>智能中转查询:</strong></p><ul><li>&quot;从北京到广州没有直达车怎么办&quot;</li><li>&quot;查询从哈尔滨到昆明的中转方案&quot;</li><li>&quot;我需要在郑州中转，帮我查票&quot;</li></ul><p><strong>智能出行建议:</strong></p><ul><li>&quot;从北京到上海怎么去最好&quot;</li><li>&quot;给我推荐一下从广州到深圳的出行方案&quot;</li><li>&quot;我想要最快的方案去杭州&quot;</li><li>&quot;经济实惠的火车票推荐&quot;</li></ul><h3 id="使用提示" tabindex="-1">使用提示 <a class="header-anchor" href="#使用提示" aria-label="Permalink to &quot;使用提示&quot;">​</a></h3><ol><li><strong>使用常见城市名</strong>: 如&quot;北京&quot;、&quot;上海&quot;、&quot;广州&quot;等，系统会自动匹配主要车站</li><li><strong>提供具体日期</strong>: 支持&quot;明天&quot;、&quot;后天&quot;、&quot;这周六&quot;等相对时间</li><li><strong>指定车型偏好</strong>: 可以说明偏好高铁、动车或普通列车</li><li><strong>考虑出行时间</strong>: 可以指定出发时间段，如&quot;上午&quot;、&quot;下午&quot;等</li><li><strong>表达偏好</strong>: 可以说明&quot;最快&quot;、&quot;最便宜&quot;、&quot;舒适&quot;等偏好</li></ol><p>AI 助手会根据您的需求自动调用智能工具，为您提供准确的票务信息和出行建议。</p><h2 id="智能工具详细介绍" tabindex="-1">智能工具详细介绍 <a class="header-anchor" href="#智能工具详细介绍" aria-label="Permalink to &quot;智能工具详细介绍&quot;">​</a></h2><h3 id="_1-smart-ticket-query-智能火车票查询" tabindex="-1">1. smart_ticket_query - 智能火车票查询 <a class="header-anchor" href="#_1-smart-ticket-query-智能火车票查询" aria-label="Permalink to &quot;1. smart_ticket_query - 智能火车票查询&quot;">​</a></h3><p>自动处理自然语言火车票查询，支持相对日期、车型偏好、时间段筛选等。</p><p><strong>特点:</strong></p><ul><li>自动转换城市名为车站编码</li><li>支持相对日期（明天、后天、这周六等）</li><li>智能识别车型偏好（高铁、动车、直达等）</li><li>按时间段筛选（上午、下午、晚上）</li><li>格式化输出，易于阅读</li></ul><p><strong>使用示例:</strong></p><ul><li>&quot;查询明天从北京到上海的火车票&quot;</li><li>&quot;我想看看后天广州到深圳的高铁&quot;</li><li>&quot;上午出发到南京的动车有哪些&quot;</li></ul><h3 id="_2-smart-transfer-query-智能中转查询" tabindex="-1">2. smart_transfer_query - 智能中转查询 <a class="header-anchor" href="#_2-smart-transfer-query-智能中转查询" aria-label="Permalink to &quot;2. smart_transfer_query - 智能中转查询&quot;">​</a></h3><p>当没有直达车时，自动查找最优中转方案，提供详细的换乘信息。</p><p><strong>特点:</strong></p><ul><li>自动计算最优中转路线</li><li>显示换乘等待时间</li><li>支持指定中转城市</li><li>分析同站换乘和跨站换乘</li><li>提供完整行程信息</li></ul><p><strong>使用示例:</strong></p><ul><li>&quot;从北京到广州没有直达车怎么办&quot;</li><li>&quot;查询从哈尔滨到昆明的中转方案&quot;</li><li>&quot;我需要在郑州中转，帮我查票&quot;</li></ul><h3 id="_3-smart-station-query-智能车站查询" tabindex="-1">3. smart_station_query - 智能车站查询 <a class="header-anchor" href="#_3-smart-station-query-智能车站查询" aria-label="Permalink to &quot;3. smart_station_query - 智能车站查询&quot;">​</a></h3><p>处理各种车站相关查询，自动识别查询意图并提供相应信息。</p><p><strong>特点:</strong></p><ul><li>自动识别查询类型（车站列表、主要车站、编码等）</li><li>支持城市车站查询</li><li>提供车站详细信息</li><li>智能解析查询意图</li></ul><p><strong>使用示例:</strong></p><ul><li>&quot;北京有哪些火车站&quot;</li><li>&quot;上海的主要火车站是哪个&quot;</li><li>&quot;查询北京南站的车站编码&quot;</li></ul><h3 id="_4-smart-travel-suggestion-智能出行建议" tabindex="-1">4. smart_travel_suggestion - 智能出行建议 <a class="header-anchor" href="#_4-smart-travel-suggestion-智能出行建议" aria-label="Permalink to &quot;4. smart_travel_suggestion - 智能出行建议&quot;">​</a></h3><p>综合分析直达和中转方案，根据用户偏好提供个性化出行建议。</p><p><strong>特点:</strong></p><ul><li>综合分析多种出行方案</li><li>根据偏好推荐最优方案</li><li>提供详细的利弊分析</li><li>支持时间和价格优化</li><li>个性化推荐理由</li></ul><p><strong>使用示例:</strong></p><ul><li>&quot;从北京到上海怎么去最好&quot;</li><li>&quot;给我推荐一下从广州到深圳的出行方案&quot;</li><li>&quot;我想要最快的方案去杭州&quot;</li></ul><h2 id="功能概览" tabindex="-1">功能概览 <a class="header-anchor" href="#功能概览" aria-label="Permalink to &quot;功能概览&quot;">​</a></h2><h3 id="车站信息查询" tabindex="-1">车站信息查询 <a class="header-anchor" href="#车站信息查询" aria-label="Permalink to &quot;车站信息查询&quot;">​</a></h3><ul><li><strong>城市车站查询</strong>: 查询指定城市的所有火车站</li><li><strong>车站编码查询</strong>: 获取车站的12306编码</li><li><strong>车站名称查询</strong>: 根据车站名称获取详细信息</li><li><strong>主要车站识别</strong>: 自动识别城市的主要车站</li></ul><h3 id="火车票查询" tabindex="-1">火车票查询 <a class="header-anchor" href="#火车票查询" aria-label="Permalink to &quot;火车票查询&quot;">​</a></h3><ul><li><strong>直达车票查询</strong>: 查询两地之间的直达列车</li><li><strong>票价信息</strong>: 显示各种座位类型的价格和余票情况</li><li><strong>车次筛选</strong>: 支持按车型、时间等条件筛选</li><li><strong>排序功能</strong>: 支持按出发时间、价格等排序</li></ul><h3 id="中转方案查询" tabindex="-1">中转方案查询 <a class="header-anchor" href="#中转方案查询" aria-label="Permalink to &quot;中转方案查询&quot;">​</a></h3><ul><li><strong>智能中转</strong>: 自动计算最优中转方案</li><li><strong>中转时间</strong>: 显示换乘等待时间</li><li><strong>中转车站</strong>: 支持指定中转车站</li><li><strong>全程时长</strong>: 计算包含中转的总旅行时间</li></ul><h3 id="实用功能" tabindex="-1">实用功能 <a class="header-anchor" href="#实用功能" aria-label="Permalink to &quot;实用功能&quot;">​</a></h3><ul><li><strong>日期管理</strong>: 获取当前日期，支持相对时间查询</li><li><strong>票量状态</strong>: 实时显示余票情况</li><li><strong>特殊标记</strong>: 显示列车特性（如卧铺、餐车等）</li></ul><h2 id="原子工具-开发者接口" tabindex="-1">原子工具（开发者接口） <a class="header-anchor" href="#原子工具-开发者接口" aria-label="Permalink to &quot;原子工具（开发者接口）&quot;">​</a></h2><p>原子工具提供了底层的技术接口，适用于系统集成和二次开发。每个原子工具实现单一功能，需要精确的参数输入。</p><h3 id="基础信息工具" tabindex="-1">基础信息工具 <a class="header-anchor" href="#基础信息工具" aria-label="Permalink to &quot;基础信息工具&quot;">​</a></h3><h4 id="get-current-date-获取当前日期" tabindex="-1">get_current_date - 获取当前日期 <a class="header-anchor" href="#get-current-date-获取当前日期" aria-label="Permalink to &quot;get_current_date - 获取当前日期&quot;">​</a></h4><p>获取当前日期（上海时区）。</p><p><strong>参数:</strong> 无</p><p><strong>使用场景:</strong></p><ul><li>确认当前日期</li><li>相对时间计算</li><li>日期验证</li></ul><h4 id="get-stations-in-city-获取城市车站" tabindex="-1">get_stations_in_city - 获取城市车站 <a class="header-anchor" href="#get-stations-in-city-获取城市车站" aria-label="Permalink to &quot;get_stations_in_city - 获取城市车站&quot;">​</a></h4><p>获取指定城市的所有火车站信息。</p><p><strong>参数:</strong></p><ul><li><code>city</code> (必需): 城市名称</li></ul><p><strong>使用场景:</strong></p><ul><li>查看城市所有车站</li><li>选择具体车站</li><li>了解车站分布</li></ul><h4 id="get-city-station-code-获取城市主要车站编码" tabindex="-1">get_city_station_code - 获取城市主要车站编码 <a class="header-anchor" href="#get-city-station-code-获取城市主要车站编码" aria-label="Permalink to &quot;get_city_station_code - 获取城市主要车站编码&quot;">​</a></h4><p>获取城市主要车站的编码信息。</p><p><strong>参数:</strong></p><ul><li><code>cities</code> (必需): 城市名称，多个城市用&quot;|&quot;分隔</li></ul><p><strong>使用场景:</strong></p><ul><li>快速获取主要车站</li><li>批量查询城市车站</li><li>系统集成</li></ul><h4 id="get-station-by-name-根据车站名查询" tabindex="-1">get_station_by_name - 根据车站名查询 <a class="header-anchor" href="#get-station-by-name-根据车站名查询" aria-label="Permalink to &quot;get_station_by_name - 根据车站名查询&quot;">​</a></h4><p>根据车站名称获取详细信息。</p><p><strong>参数:</strong></p><ul><li><code>station_names</code> (必需): 车站名称，多个车站用&quot;|&quot;分隔</li></ul><p><strong>使用场景:</strong></p><ul><li>验证车站名称</li><li>获取车站详细信息</li><li>车站信息确认</li></ul><h4 id="get-station-by-code-根据车站编码查询" tabindex="-1">get_station_by_code - 根据车站编码查询 <a class="header-anchor" href="#get-station-by-code-根据车站编码查询" aria-label="Permalink to &quot;get_station_by_code - 根据车站编码查询&quot;">​</a></h4><p>根据车站编码获取车站信息。</p><p><strong>参数:</strong></p><ul><li><code>station_code</code> (必需): 车站编码</li></ul><p><strong>使用场景:</strong></p><ul><li>编码反查车站</li><li>系统数据验证</li><li>技术集成</li></ul><h3 id="_2-火车票查询工具" tabindex="-1">2. 火车票查询工具 <a class="header-anchor" href="#_2-火车票查询工具" aria-label="Permalink to &quot;2. 火车票查询工具&quot;">​</a></h3><h4 id="query-train-tickets-查询火车票" tabindex="-1">query_train_tickets - 查询火车票 <a class="header-anchor" href="#query-train-tickets-查询火车票" aria-label="Permalink to &quot;query_train_tickets - 查询火车票&quot;">​</a></h4><p>查询指定日期和区间的火车票信息。</p><p><strong>参数:</strong></p><ul><li><code>date</code> (必需): 出发日期，格式 &quot;YYYY-MM-DD&quot;</li><li><code>from_station</code> (必需): 出发车站</li><li><code>to_station</code> (必需): 到达车站</li><li><code>train_filters</code> (可选): 车次筛选条件</li><li><code>sort_by</code> (可选): 排序方式</li><li><code>reverse</code> (可选): 是否倒序</li><li><code>limit</code> (可选): 结果数量限制</li></ul><p><strong>使用场景:</strong></p><ul><li>日常出行查票</li><li>票价比较</li><li>出行规划</li></ul><h4 id="query-transfer-tickets-查询中转车票" tabindex="-1">query_transfer_tickets - 查询中转车票 <a class="header-anchor" href="#query-transfer-tickets-查询中转车票" aria-label="Permalink to &quot;query_transfer_tickets - 查询中转车票&quot;">​</a></h4><p>查询需要中转的火车票方案。</p><p><strong>参数:</strong></p><ul><li><code>date</code> (必需): 出发日期</li><li><code>from_station</code> (必需): 出发车站</li><li><code>to_station</code> (必需): 到达车站</li><li><code>middle_station</code> (可选): 指定中转车站</li><li><code>show_wz</code> (可选): 是否显示无座</li><li><code>train_filters</code> (可选): 车次筛选条件</li><li><code>sort_by</code> (可选): 排序方式</li><li><code>reverse</code> (可选): 是否倒序</li><li><code>limit</code> (可选): 结果数量限制，默认10</li></ul><p><strong>使用场景:</strong></p><ul><li>无直达车时查询中转</li><li>比较中转方案</li><li>复杂出行规划</li></ul><h4 id="query-train-route-查询车次经停站" tabindex="-1">query_train_route - 查询车次经停站 <a class="header-anchor" href="#query-train-route-查询车次经停站" aria-label="Permalink to &quot;query_train_route - 查询车次经停站&quot;">​</a></h4><p>查询指定车次的经停站信息。</p><p><strong>参数:</strong></p><ul><li><code>train_code</code> (必需): 车次号</li></ul><p><strong>使用场景:</strong></p><ul><li>了解车次路线</li><li>选择中间站点</li><li>出行路线规划</li></ul><p>注：此功能正在开发中</p><h2 id="使用示例" tabindex="-1">使用示例 <a class="header-anchor" href="#使用示例" aria-label="Permalink to &quot;使用示例&quot;">​</a></h2><h3 id="基础信息查询示例" tabindex="-1">基础信息查询示例 <a class="header-anchor" href="#基础信息查询示例" aria-label="Permalink to &quot;基础信息查询示例&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取当前日期</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get_current_date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查询北京的所有车站</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get_stations_in_city&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;city&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取多个城市的主要车站</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get_city_station_code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;cities&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京|上海|广州&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 根据车站名称查询</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get_station_by_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;station_names&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京南|上海虹桥&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 根据车站编码查询</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get_station_by_code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;station_code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;VNP&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="火车票查询示例" tabindex="-1">火车票查询示例 <a class="header-anchor" href="#火车票查询示例" aria-label="Permalink to &quot;火车票查询示例&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 基础火车票查询</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;query_train_tickets&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-07-15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;from_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;to_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;上海&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 带筛选条件的查询</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;query_train_tickets&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-07-15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;from_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;to_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;上海&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;train_filters&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;G,D&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 只查高铁和动车</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;sort_by&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;departure_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 中转车票查询</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;query_transfer_tickets&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-07-15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;from_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;to_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;广州&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指定中转站查询</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mcp_server.call_tool(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;query_transfer_tickets&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-07-15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;from_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;to_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;广州&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;middle_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;郑州&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="数据结构" tabindex="-1">数据结构 <a class="header-anchor" href="#数据结构" aria-label="Permalink to &quot;数据结构&quot;">​</a></h2><h3 id="车站信息-station" tabindex="-1">车站信息 (Station) <a class="header-anchor" href="#车站信息-station" aria-label="Permalink to &quot;车站信息 (Station)&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;station_code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;VNP&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;station_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京南&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;station_pinyin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;beijingnan&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;city&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;VNP&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="火车票信息-ticket" tabindex="-1">火车票信息 (Ticket) <a class="header-anchor" href="#火车票信息-ticket" aria-label="Permalink to &quot;火车票信息 (Ticket)&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;start_train_code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;G1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;from_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京南&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;to_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;上海虹桥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;start_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;09:00&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;arrive_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;14:28&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5:28&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;prices&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;seat_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;商务座&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;price&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1748&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;num&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;seat_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;一等座&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;price&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;933&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;num&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;有&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;features&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;WiFi&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;充电插座&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="中转方案-transfer" tabindex="-1">中转方案 (Transfer) <a class="header-anchor" href="#中转方案-transfer" aria-label="Permalink to &quot;中转方案 (Transfer)&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;start_date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-07-15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;start_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;08:00&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;arrive_date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-07-15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;arrive_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;20:30&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;from_station_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京南&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;middle_station_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;郑州东&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;end_station_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;广州南&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;same_train&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: false,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;same_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: true,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;wait_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2小时15分&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;12小时30分&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;ticket_list&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;start_train_code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;G79&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;from_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;北京南&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;to_station&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;郑州东&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;start_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;08:00&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;arrive_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;11:15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3:15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;prices&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="票量状态说明" tabindex="-1">票量状态说明 <a class="header-anchor" href="#票量状态说明" aria-label="Permalink to &quot;票量状态说明&quot;">​</a></h2><h3 id="余票显示" tabindex="-1">余票显示 <a class="header-anchor" href="#余票显示" aria-label="Permalink to &quot;余票显示&quot;">​</a></h3><ul><li><strong>具体数字</strong>: 如&quot;5&quot;表示剩余5张票</li><li><strong>&quot;有&quot;</strong>: 有票，具体数量不明</li><li><strong>&quot;充足&quot;</strong>: 票量充足</li><li><strong>&quot;无&quot;</strong>: 无票</li><li><strong>&quot;--&quot;</strong>: 该座位类型不可售</li><li><strong>&quot;候补&quot;</strong>: 无票，可候补</li></ul><h3 id="座位类型" tabindex="-1">座位类型 <a class="header-anchor" href="#座位类型" aria-label="Permalink to &quot;座位类型&quot;">​</a></h3><ul><li><strong>商务座</strong>: 最高等级座位</li><li><strong>一等座</strong>: 高等级座位</li><li><strong>二等座</strong>: 标准座位</li><li><strong>无座</strong>: 站票</li><li><strong>硬卧</strong>: 硬卧铺</li><li><strong>软卧</strong>: 软卧铺</li><li><strong>高级软卧</strong>: 豪华卧铺</li></ul><h2 id="查询技巧" tabindex="-1">查询技巧 <a class="header-anchor" href="#查询技巧" aria-label="Permalink to &quot;查询技巧&quot;">​</a></h2><h3 id="_1-车站名称" tabindex="-1">1. 车站名称 <a class="header-anchor" href="#_1-车站名称" aria-label="Permalink to &quot;1. 车站名称&quot;">​</a></h3><ul><li>使用官方车站名称，如&quot;北京南&quot;而不是&quot;北京南站&quot;</li><li>支持城市名称，系统会自动匹配主要车站</li><li>大车站可能有多个候选，建议具体到站名</li></ul><h3 id="_2-时间格式" tabindex="-1">2. 时间格式 <a class="header-anchor" href="#_2-时间格式" aria-label="Permalink to &quot;2. 时间格式&quot;">​</a></h3><ul><li>日期格式：YYYY-MM-DD，如&quot;2025-07-15&quot;</li><li>支持相对时间，如&quot;明天&quot;、&quot;后天&quot;</li><li>注意节假日和调休安排</li></ul><h3 id="_3-筛选条件" tabindex="-1">3. 筛选条件 <a class="header-anchor" href="#_3-筛选条件" aria-label="Permalink to &quot;3. 筛选条件&quot;">​</a></h3><ul><li>车次筛选：G(高铁)、D(动车)、C(城际)、Z(直达)、T(特快)、K(快速)</li><li>时间筛选：可按出发时间或到达时间排序</li><li>价格筛选：可按票价高低排序</li></ul><h3 id="_4-中转查询" tabindex="-1">4. 中转查询 <a class="header-anchor" href="#_4-中转查询" aria-label="Permalink to &quot;4. 中转查询&quot;">​</a></h3><ul><li>优先使用主要枢纽站中转</li><li>注意中转时间，建议预留充足换乘时间</li><li>考虑行李和出行便利性</li></ul><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ol><li><strong>数据实时性</strong>: 票务信息实时更新，查询结果仅供参考</li><li><strong>购票渠道</strong>: 工具仅提供查询功能，购票需通过官方渠道</li><li><strong>网络依赖</strong>: 查询需要网络连接到12306系统</li><li><strong>查询限制</strong>: 避免频繁查询，遵守12306使用规范</li></ol><h2 id="故障排除" tabindex="-1">故障排除 <a class="header-anchor" href="#故障排除" aria-label="Permalink to &quot;故障排除&quot;">​</a></h2><h3 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h3><ol><li><strong>车站名称错误</strong>: 检查车站名称是否正确</li><li><strong>查询无结果</strong>: 确认日期和车站信息</li><li><strong>网络超时</strong>: 检查网络连接状态</li><li><strong>数据格式错误</strong>: 验证输入参数格式</li></ol><h3 id="调试方法" tabindex="-1">调试方法 <a class="header-anchor" href="#调试方法" aria-label="Permalink to &quot;调试方法&quot;">​</a></h3><ol><li>先查询车站信息确认车站名称</li><li>使用get_current_date确认日期格式</li><li>检查网络连接和防火墙设置</li><li>查看返回的错误信息</li></ol><h2 id="二次开发指南" tabindex="-1">二次开发指南 <a class="header-anchor" href="#二次开发指南" aria-label="Permalink to &quot;二次开发指南&quot;">​</a></h2><h3 id="mcp-工具集成" tabindex="-1">MCP 工具集成 <a class="header-anchor" href="#mcp-工具集成" aria-label="Permalink to &quot;MCP 工具集成&quot;">​</a></h3><p>Railway工具基于MCP（Model Context Protocol）架构，支持灵活的工具集成和扩展。</p><h4 id="工具管理器" tabindex="-1">工具管理器 <a class="header-anchor" href="#工具管理器" aria-label="Permalink to &quot;工具管理器&quot;">​</a></h4><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src.mcp.tools.railway </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> get_railway_tools_manager</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取工具管理器实例</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">manager </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> get_railway_tools_manager()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 初始化工具（在MCP服务器中调用）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">manager.init_tools(add_tool, PropertyList, Property, PropertyType)</span></span></code></pre></div><h4 id="自定义智能工具" tabindex="-1">自定义智能工具 <a class="header-anchor" href="#自定义智能工具" aria-label="Permalink to &quot;自定义智能工具&quot;">​</a></h4><p>开发者可以基于现有原子工具创建新的智能工具：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> custom_smart_query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, args: Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;自定义智能查询工具&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 解析用户输入</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> args.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;query&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 调用原子工具</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    client </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> get_railway_client()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> client.query_tickets(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 格式化输出</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._format_custom_result(result)</span></span></code></pre></div><h3 id="架构说明" tabindex="-1">架构说明 <a class="header-anchor" href="#架构说明" aria-label="Permalink to &quot;架构说明&quot;">​</a></h3><p>Railway工具采用分层架构：</p><ul><li><strong>智能工具层</strong>: 处理自然语言输入，用户友好</li><li><strong>原子工具层</strong>: 提供基础功能，技术精确</li><li><strong>客户端层</strong>: 与12306 API交互</li><li><strong>数据模型层</strong>: 定义数据结构</li></ul><h3 id="扩展建议" tabindex="-1">扩展建议 <a class="header-anchor" href="#扩展建议" aria-label="Permalink to &quot;扩展建议&quot;">​</a></h3><ol><li><strong>添加新的智能工具</strong>: 基于现有原子工具组合新功能</li><li><strong>优化查询逻辑</strong>: 改进智能工具的处理算法</li><li><strong>增强数据格式</strong>: 添加更多输出格式选项</li><li><strong>集成其他服务</strong>: 结合其他交通工具信息</li></ol><p>通过火车票查询工具，您可以方便地获取火车票信息，规划出行路线，是出行必备的实用工具。智能工具让日常使用更加便捷，原子工具为开发者提供了强大的集成能力。</p>`,149)]))}const u=i(l,[["render",h]]);export{d as __pageData,u as default};
